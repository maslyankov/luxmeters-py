

lcd_7seg = {0x00: None, 0x7B: 0, 0x60: 1, 0x5E: 2, 0x7C: 3,
            0x65: 4, 0x3D: 5, 0x3F: 6, 0x70: 7, 0x7F: 8, 0x7D: 9,
            0x6B: 'U', 0x2F: 'b', 0x77: 'A', 0x57: 'P', 0x1F: 'E', 0x1B: 'C',
            0x6D: 'd', 0x1F: 'E', 0x6E: 'd', 0x17: 'F', 0x56: '?', 0x0B: 'L',
            }

# key : (byte, mask, {bits:value})
lcd_table = {
    'big_1': (1, 0x7F, lcd_7seg),
    'big_10': (2, 0x7F, lcd_7seg),
    'big_100': (3, 0x7F, lcd_7seg),
    'big_1000': (4, 0x7F, lcd_7seg),
    'lil_1': (5, 0x7F, lcd_7seg),
    'lil_10': (6, 0x7F, lcd_7seg),
    'lil_100': (7, 0x7F, lcd_7seg),
    'lil_1000': (8, 0x7F, lcd_7seg),
    'big_10ths': (2, 0x80, {0x00: False, 0x80: True}),
    'big_100ths': (3, 0x80, {0x00: False, 0x80: True}),
    'big_1000ths': (4, 0x80, {0x00: False, 0x80: True}),
    'mode': (11, 0xFF, {0x10: 'hold', 0x20: 'max', 0x40: 'min'}),
    'auto': (10, 0x02, {0x00: False, 0x02: True}),
    'scale': (10, 0xF0, {0x00: 2, 0x80: 20, 0xC0: 200, 0xE0: 2000, 0xF0: 20000}),
    'unit': (9, 0x0C, {0x08: 'lux', 0x04: 'fc'}),
    'x10': (9, 0x01, {0x00: False, 0x01: True}),
    'poweroff': (11, 0x02, {0x00: False, 0x02: True}),
    'batt': (9, 0x10, {0x00: False, 0x10: True}),
    'rec': (11, 0x01, {0x00: False, 0x01: True}),
    'usb': (9, 0x20, {0x00: False, 0x20: True}),
    'menu': (0, 0xFF, {0x20: 'usb', 0x30: 'apo', 0x40: 'rec', 0x50: 'code', 0x60: 'def'}),
    # missing: rel, clock, load#, full, lil_colon
}
bitwise_fields = ['mode', ]
